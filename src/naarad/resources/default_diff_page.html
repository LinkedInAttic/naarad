<body data-spy="scroll" data-target=".topbar" data-offset="90">
<div class="topbar navbar navbar-fixed-top navbar-inverse">
  <div class="navbar-inner">
   <div class="container">
    <div class="topbar-content">

    <a class="brand" href="https://github.com/linkedin/naarad">naarad</a>

    <ul class="nav">
        <li class="active">
            <a href="diff_report.html" title="Summary">
                <span>Summary</span>
            </a>
        </li>
        <li><a href="report.html"><span>Chart</span></a></li>
    </ul>
    </div><!-- /topbar-content -->
   </div><!-- /container -->
 </div><!-- /topbar-inner -->
</div><!-- /topbar -->
<div class="container">
  <div class="content">
    <div class="row">
      <div class="span12">
        <table class="table">
            <h2 class="content-title">
                <span class="text">Summary</span>
            </h2>
            <tr><td>Report 1: {{ reports[0].location }}</td></tr>
            <tr><td>Report 2: {{ reports[1].location }}</td></tr>
        </table>
      </div>
    </div>
    {%- if diff_data %}
      {%- for metric in diff_data|sort %}
      <div class="row">
        <div class="span12">
         <div id="div-diff-{{ metric }}" style="overflow-x:auto;">
          <h2 class="content-title">
            <span class="text">{{ metric }}</span>
          </h2>
          <form>
            <input type="radio" name="radio-diff-{{ metric }}" id="radio-diff-{{ metric }}" value="%" checked onclick="switch_diff_table('{{ metric }}')">%
            <input type="radio" name="radio-diff-{{ metric }}" value="#" onclick="switch_diff_table('{{ metric }}')">#
          </form>
          <table id="table-diff-percent-{{ metric }}" class="table table-bordered table-striped sortable">
            <caption>{{ metric }} : % diff</caption>
            <thead>
              <th>sub-metric</th>
              {%- for header in diff_data[metric][diff_data[metric].keys()[0]].keys()|sort %}
              <th>{{ header }}</th>
              {%- endfor %}
            </thead>
            <tbody>
              {%- for sub_metric in diff_data[metric]|sort %}
                <tr>
                  <td>{{ sub_metric }}</td>
                  {%- for stats in diff_data[metric][sub_metric]|sort %}
                  <td type="naarad-diff-td-percentage" title="{{ sub_metric }} , {{ stats }} , Report 1={{ diff_data[metric][sub_metric][stats][0] }} , Report 2={{ diff_data[metric][sub_metric][stats][1] }} , diff={{ diff_data[metric][sub_metric][stats]['absolute_diff'] }}, %diff={{diff_data[metric][sub_metric][stats]['percent_diff'] }}">{{ diff_data[metric][sub_metric][stats]['percent_diff'] }}%</td>
                  {%- endfor %}
                </tr>
               {%- endfor %}
            </tbody>
          </table>
          <table id="table-diff-absolute-{{ metric }}" class="table table-bordered table-striped sortable" hidden="true">
            <caption>{{ metric }} : absolute diff</caption>
            <thead>
              <th>sub-metric</th>
              {%- for header in diff_data[metric][diff_data[metric].keys()[0]].keys()|sort %}
              <th>{{ header }}</th>
              {%- endfor %}
            </thead>
            <tbody>
              {%- for sub_metric in diff_data[metric]|sort %}
                <tr>
                  <td>{{ sub_metric }}</td>
                  {%- for stats in diff_data[metric][sub_metric]|sort %}
                  <td type="naarad-diff-td-percentage" title="{{ sub_metric }} , {{ stats }} , Report 1={{ diff_data[metric][sub_metric][stats][0] }} , Report 2={{ diff_data[metric][sub_metric][stats][1] }} , diff={{ diff_data[metric][sub_metric][stats]['absolute_diff'] }}, %diff={{diff_data[metric][sub_metric][stats]['percent_diff'] }}">{{ diff_data[metric][sub_metric][stats]['absolute_diff'] }}</td>
                  {%- endfor %}
                </tr>
              {%- endfor %}
            </tbody>
          </table>
         </div>
        </div>
      </div>
      {%- endfor %}
    {%- endif %}
  </div>
</div>
